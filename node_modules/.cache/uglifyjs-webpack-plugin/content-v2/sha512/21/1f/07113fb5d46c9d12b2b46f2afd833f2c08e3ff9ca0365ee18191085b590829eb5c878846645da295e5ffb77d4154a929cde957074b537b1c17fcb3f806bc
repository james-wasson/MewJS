{"code":"!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\",o(o.s=0)}([function(e,t,o){\"use strict\";function n(e){return function(t,o=!1){return void 0!==t&&(null===t?!!o:e(t))}}o.r(t);var r={types:[\"any\",\"bool\",\"boolean\",\"array\",\"string\",\"object\",\"function\",\"symbol\",\"int\",\"float\",\"number\",\"undefined\",\"prop\",\"component\",\"component-factory\",\"get-recorder\",\"element-node\",\"text-node\"],isUndef:e=>void 0===e,isString:n(e=>\"string\"==typeof e),isObject:n(e=>\"object\"==typeof e),isFunction:n(e=>\"function\"==typeof e),isBool:n(e=>\"boolean\"==typeof e),isSymbol:n(e=>\"symbol\"==typeof e),isArray:n(e=>Array.isArray(e)),isNumber:n(e=>!isNaN(e)),isInt:n(e=>Number(e)===e&&e%1==0),isFloat:n(e=>Number(e)===e&&e%1!=0),isPropObj:n(e=>r.isObject(e)&&e.constructor&&\"Prop\"===e.constructor.name),isComponentObj:n(e=>r.isObject(e)&&e.constructor&&\"Component\"===e.constructor.name),isComponentFactoryFunction:n(e=>r.isFunction(e)&&e.prototype.constructor&&\"ComponentFactory\"===e.prototype.constructor.name),isGetRecorderObj:n(e=>r.isObject(e)&&e.constructor&&\"GetRecorder\"===e.constructor.name),isElementNode:n(e=>r.isObject(HTMLElement)?e instanceof HTMLElement:r.isObject(e)&&e.nodeType===Node.ELEMENT_NODE&&r.isString(e.nodeName)),isUnknowNode:n(e=>r.isObject(HTMLUnknownElement)?e instanceof HTMLUnknownElement:r.isElementNode(e)&&typeCheck.isObject(e.constructor)&&\"HTMLUnknownElement\"===e.constructor.name),isTextNode:n(e=>r.isObject(e)&&e.nodeType===Node.TEXT_NODE&&r.isString(e.nodeName))};function s(e,t){var o=Object.assign({},e);for(var n in o)e.hasOwnProperty(n)&&(t(n,e[n])||delete o[n]);return o}function i(e,t){if(e&&\"object\"==typeof e)for(var o in e)e.hasOwnProperty(o)&&(\"function\"!=typeof e[o]?console.error('Listeners bound to an event must be of type \"function\"'):t(o,e[o]));else console.error(\"Listeners on child must be in form of object.\")}var c=function(e){if(e&&\"object\"==typeof e){if(e.hasOwnProperty(\"props\")&&(Array.isArray(e.props)?processProps(PROCESS_PROP_OPTIONS.ARRAY,this.$children,e.props,this):e.props&&\"object\"==typeof e.props?processProps(PROCESS_PROP_OPTIONS.DEFINITION_OBJECT,this.$children,e.props,this):console.error(\"Child props must be of type Array or Object\")),this.$listeners={},e.hasOwnProperty(\"listeners\")&&i(e.listeners,(e,t)=>this.$listeners[e]=t),e.hasOwnProperty(\"components\"))if(e.components&&\"object\"==typeof e.components){var t=e.components;for(var o in t)if(t.hasOwnProperty(o)){var n=t[o];for(var c of(Array.isArray(n)||(n=[n]),n)){var a={};if(r.isObject(c))if(c.hasOwnProperty(\"definition\")&&r.isComponentFactoryFunction(c.definition)){a.$definition=c.definition,c.hasOwnProperty(\"props\")&&(Array.isArray(c.props)?processProps(PROCESS_PROP_OPTIONS.ARRAY,a,c.props,Object.assign({},this.$children,this)):\"object\"==typeof c.props?processProps(PROCESS_PROP_OPTIONS.DEFINITION_OBJECT,a,c.props,Object.assign({},this.$children,this)):console.error('Props on component expected to be of type \"object\" or an array')),a.$listeners={},c.hasOwnProperty(\"listeners\")&&i(c.listeners,(e,t)=>a.$listeners[e]=t);var p=Object.keys(this.$listeners).concat(Object.keys(a.$listeners)).filter((e,t,o)=>o.indexOf(e)===t),l={};for(var u of p)l[u]=[],a.$listeners[u]&&l[u].push(a.$listeners[u]),this.$listeners[u]&&l[u].push(this.$listeners[u]);a.$definition=a.$definition.bind(null,{$props:s(Object.assign({},a,this.$children,this),(e,t)=>r.isPropObj(t)),$parent:this,$listeners:l}),this.$children.$components[o]||(this.$children.$components[o]=[]),this.$children.$components[o].push(a)}else console.error(\"Component must have definition and it be constructed by component factory\");else console.error(\"Individual components must either be object or Array of objects\")}}}else console.error(\"components on children must be in form of object.\")}else console.error(\"Malformed children object.\")};function a(e,t){r.isPropObj(e[t])?e[t]=new Prop(e[t],\"prop\",!0):console.error('Cannot freeze prop that is not constructed by \"Prop\"')}var p=function(e,t){if(e&&\"object\"==typeof e){var o=t&&\"object\"==typeof t;if(e.hasOwnProperty(\"props\"))if(o&&t.$props&&\"object\"==typeof t.$props){var n=e.props;Array.isArray(n)?processProps(PROCESS_PROP_OPTIONS.ARRAY,this,n,t.$props,function(e,t){e.$inheritedProps.push(t),a(e,t)}):\"object\"==typeof n?processProps(PROCESS_PROP_OPTIONS.RENAME_OBJECT,this,n,t.$props,function(e,t){e.$inheritedProps.push(t),a(e,t)}):console.error('Props on parent must be of type \"object\".')}else console.error(\"Cannot inherit props from null parent props.\");if(e.hasOwnProperty(\"slots\"))if(Array.isArray(e.slots))console.error(\"slots on parent must be array of strings.\");else for(var s of e.slots)\"string\"!=typeof s?console.error(\"Only strings are allowed in slot array values.\"):parentScope.$slots&&\"object\"==typeof parentScope.$slots&&parentScope.$slots[s]?this.$slots[s]=parentScope.$slots[s]:console.error('Slot \"'+s+\"\\\" doesn' exist on parent\");if(e.hasOwnProperty(\"emit\"))if(Array.isArray(e.emit))for(var i of e.emit)if(\"string\"!=typeof i)console.error(\"Each element in emit array must be string.\");else{t.$listeners||(t.$listeners={});var c=t.$listeners[i]||[];this.$emit[i]=function(e,t){var o=function(){for(var t of e)\"function\"==typeof t?t.apply(arguments):console.error('Listener is not of type \"function\"')};return o.eventName=t,o}.bind(this)(c,i)}else console.error(\"Emit defined on parent must be array.\");t&&t.hasOwnProperty(\"$parent\")&&r.isComponentObj(t.$parent)&&(this.$parent=t.$parent)}else console.error(\"Malformed parent object.\")},l=function(e){var t=document.createElement(\"template\");return t.innerHTML=e,t};var u=function(e){if(e.hasOwnProperty(\"props\")&&processProps(PROCESS_PROP_OPTIONS.DEFINITION_OBJECT,this,e.props,this),e.hasOwnProperty(\"template\")&&(r.isString(e.template)?(this.$template=e.template,this.$templateHtml=l(this.$template)):console.error('template must be of type \"string\"')),e.hasOwnProperty(\"watchers\"))if(r.isObject(e.watchers)){var t=e.watchers;for(var o in t)if(t.hasOwnProperty(o))if(r.isFunction(t[o]))if(r.isPropObj(this[o])){var n=t[o];n=n.bind(this),this[o].$addDep(n),this.$watchers[o]={$dependancy:n,$prop:this[o]}}else console.error('Cannot watch \"'+o+'\" because it is not a processed prop.');else console.error('Watcher must be of type \"function\".')}else console.error('watchers must be of type \"object\"')};function f(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)}function h(e,t,o){e.style.setProperty?e.style.setProperty(t,o):e.style.setAttribute(t,o)}function m(e,t,o){e.setProperty?e.setProperty(t,o):e.setAttribute(t,o)}function d(e,t){return!!e.className.match(new RegExp(\"(\\\\s|^)\"+t+\"(\\\\s|$)\"))}function y(e,t){d(e,t)||(e.className=(e.className+\" \"+t).trim())}function b(e,t){if(d(e,t)){var o=new RegExp(\"(\\\\s|^)\"+t+\"(\\\\s|$)\");e.className=e.className.replace(o,\"\")}}class ${constructor(e,t,o){var n,s=this;this.value=e,this.onGet=r.isFunction(o)?o:null,this.propName=t;var i=this.$getValue();return r.isFunction(i)?((n=new Proxy(i,{apply:(e,t,o)=>(s.onGet(),e.apply(t||s,o)),$getValue:e=>s.$getValue(e),$setValue:e=>s.$setValue(e)})).constructor={name:\"GetRecorder\"},n):r.isObject(i)?((n=new Proxy(this,{get:(e,t)=>(e.onGet(),e.$getValue()[t]),set:(e,t,o)=>{e.$setValue(o)[t]},$getValue:e=>s.$getValue(e),$setValue:e=>s.$setValue(e)})).constructor={name:\"GetRecorder\"},n):void 0}$getValue(e){return!1!==e&&r.isPropObj(this.value)?this.value.$getValue():this.value}$setValue(e){r.isPropObj(this.value)?this.value.$setValue(e):this.value=e}[Symbol.toPrimitive](){return this.onGet(),this.$getValue()}valueOf(){return this.onGet(),this.$getValue()}}function O(e,t){if(r.isGetRecorderObj(e)){var o=e.$getValue(!1);return r.isPropObj(o)?(t(e.propName,o),o.$getValue()):o}return e}function P(e,t,o,n,s){!function(e,t){var i=function(e,n){n.$hasDep(e=>r.isObject(e)&&e.node===t&&e.attribute===o)||n.$addDep({node:t,attribute:o,$run:a})},c=function(e,t,o){e=Object.assign({},e);var n=Object.keys(e);n.sort(),e=ProxyContext(e);var r=Function.apply(e,n.concat(['\"use strict\";\\nreturn ('+t+\");\"]));return function(e,t,n){var r=t.map(t=>e.$props(t)?new $(e.$props(t),t,function(e,t,o){o(e,t)}.bind(e,t,e.$props(t),o)):e[t]);return n.apply(e,r)}.bind(null,e,n,r)}(e,t.getAttribute(o),i);t.removeAttribute(o);var a=function(){var e=c();switch(n.toLowerCase()){case\"object\":return function(e,t,o,n,s){if(r.isObject(e))for(var i in e)e.hasOwnProperty(i)&&o(n,i,O(e[i],t),s);else r.isUndef(e,!0)||console.error(s+\" is returning something other than object undefined or null on node: \",n)}(e,i,s,t,o);case\"bool\":case\"boolean\":return function(e,t,o,n,r){o(n,!!O(e,t),r)}(e,i,s,t,o);case\"string\":return function(e,t,o,n,s){var i=O(e,t);r.isString(i)?o(n,i,s):console.error(s+\" is returning sometthing other than type 'string' on node: \",n)}(e,i,s,t,o)}};a()}(e,t)}var v=function(){!this.$templateHtml&&this.$templateHtml.content||(r.isElementNode(this.$templateHtml)?function e(t,o){for(var n of o.childNodes)r.isTextNode(n)||(n.getAttribute(\"m-bind:class\")&&P(t,n,\"m-bind:class\",\"object\",function(e,t,o){o?y(e,t):b(e,t)}),n.getAttribute(\"m-bind:style\")&&P(t,n,\"m-bind:style\",\"object\",function(e,t,o){r.isString(o)&&o.length>0?h(e,t,o):f(e,t)}),n.getAttribute(\"m-show\")&&P(t,n,\"m-show\",\"bool\",function(e,t){t?f(e,\"display\"):h(e,\"display\",\"none\")}),n.getAttribute(\"m-if\")&&P(t,n,\"m-if\",\"bool\",function(e,t){m(e,\"data-mew-if\",!!t)}),n.getAttribute(\"m-on\")&&P(t,n,\"m-on\",\"object\",function(e,o,n){r.isFunction(n)?(t.$htmlEvents[e]||(t.$htmlEvents[e]=[]),t.$htmlEvents[e].some(e=>e.eventName===o&&e.action===n)||(t.$htmlEvents[e].push({eventName:o,node:e,action:n}),e.addEventListener(o,n))):console.error(\"m-on events expect type of function as return value for an event\")}),n.getAttribute(\"m-comp\")&&P(t,n,\"m-comp\",\"string\",function(e,o){t.$children.$components.hasOwnProperty(o)?t.$children.$components[o].forEach(t=>{var o=t.$definition();console.log(e),e.appendChild(o.$templateHtml.content)}):console.error('Component \"'+o+'\" not found for node: ',e)})),e(t,n)}(this,this.$templateHtml.content):console.error(\"Cannot parse templates html if not a dom element.\"))};var j={$forceDepsUpdate:function(e){r.isPropObj(this[e])&&this[e].$runDepsUpdate()},$props:function(e){return r.isPropObj(this[e])?this[e]:null}},w=function(e){for(var t in j)e.hasOwnProperty(t)&&console.error('Cannot use an api specific property name \"'+t+'\", refer to the docs.'),e[t]=j[t];return new Proxy(e,{get:(e,t,o)=>{if(!r.isUndef(e[t]))return r.isFunction(e[t])?e[t].bind(e):r.isPropObj(e[t])?e[t].$getValue():e[t];console.warn('Property \"'+t+'\" does not exist on object. Cannot get value.')},set:(e,t,o)=>{r.isUndef(e[t])?console.warn('Property \"'+t+'\" does not exist on object. Cannot set value.'):r.isPropObj(e[t])?e[t].$setValue(o):console.error(\"Can only set value for type of prop.\")}})};class g{constructor(e,t){if(r.isObject(e)||(console.warn('The component descriptor must be of type \"object\"'),e={}),this.$slots={},this.$emit={},this.$parent=null,this.$watchers={},this.$inheritedProps=[],this.$children={$listeners:{},$components:{}},this.$htmlEvents={},!r.isObject(e.self))throw new Error('Components must have self defined of type \"object\".');e.hasOwnProperty(\"parent\")&&p.bind(this)(e.parent,t),u.bind(this)(e.self),e.hasOwnProperty(\"children\")&&c.bind(this)(e.children),v.bind(this)()}}if(window.MewJS)throw new Error(\"MewJS already defined on the window\");window.MewJS={Component:class{constructor(e){this.descriptor=e}$create(e){var t=new g(this.descriptor,e);return w(t)}},MountComponent:function(e,t){if(!r.isComponentFactoryFunction(t))return console.error(\"Mount type expects type of componentFactory.\"),null;r.isString(e)&&(e=document.getElementById(e.replace(\"#\",\"\"))),r.isElementNode(e)?e.appendChild(t.$create().$templateHtml.content):console.error(\"mount point expects valid html id or node type\")}}}]);","extractedComments":[]}